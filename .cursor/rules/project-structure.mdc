---
alwaysApply: false
---
# ğŸ—ï¸ Project Structure - Refactored Game Application

## ğŸ“ **Root Directory Structure**

```
gameRefactor/
â”œâ”€â”€ ğŸ“ src/                          # Main source code (refactored)
â”‚   â”œâ”€â”€ ğŸ“ services/                 # Core business logic services
â”‚   â”œâ”€â”€ ğŸ“ routes/                   # API route definitions
â”‚   â”œâ”€â”€ ğŸ“ middleware/               # Express middleware
â”‚   â”œâ”€â”€ ğŸ“ socket/                   # Socket.IO configuration
â”‚   â””â”€â”€ server.js                    # Main server entry point
â”œâ”€â”€ ğŸ“ router/                       # Legacy router files (migration)
â”œâ”€â”€ ğŸ“ model/                        # Database models
â”œâ”€â”€ ğŸ“ config/                       # Configuration files
â”œâ”€â”€ ğŸ“ utils/                        # Utility functions
â”œâ”€â”€ ğŸ“ frontend/                     # React frontend application
â”œâ”€â”€ ğŸ“ scripts/                      # Migration and utility scripts
â”œâ”€â”€ app.js                           # Legacy entry point (simplified)
â”œâ”€â”€ app.js.backup                    # Original monolithic app.js (1627 lines)
â”œâ”€â”€ ARCHITECTURE.md                   # Architecture documentation
â”œâ”€â”€ MIGRATION_SUMMARY.md             # Migration process summary
â””â”€â”€ README.md                        # Project overview
```

## ğŸ”§ **Backend Architecture (Refactored)**

### **ğŸ“ src/services/ - Core Business Logic**
```
services/
â”œâ”€â”€ GameManager.js           # Main orchestrator (15KB, 475 lines)
â”œâ”€â”€ RoomManager.js           # Room lifecycle management (15KB, 536 lines)
â”œâ”€â”€ GameFlowManager.js       # Game progression logic (20KB, 607 lines)
â”œâ”€â”€ GameStateManager.js      # Game calculations & state (35KB, 957 lines)
â”œâ”€â”€ RoundManager.js          # Round operations (11KB, 421 lines)
â”œâ”€â”€ ParticipantManager.js    # Participant operations (19KB, 596 lines)
â””â”€â”€ __tests__/               # Test files
    â””â”€â”€ RoomManager.test.js  # Unit tests (5.3KB, 190 lines)
```

### **ğŸ“ src/routes/ - API Routes**
```
routes/
â””â”€â”€ index.js                 # Main route definitions (1.1KB, 41 lines)
```

### **ğŸ“ src/middleware/ - Express Middleware**
```
middleware/
â””â”€â”€ index.js                 # Middleware configuration (1.5KB, 56 lines)
```

### **ğŸ“ src/socket/ - Real-time Communication**
```
socket/
â””â”€â”€ index.js                 # Socket.IO setup (1.5KB, 57 lines)
```

### **ğŸ“ src/server.js - Main Server**
```
server.js                    # Express server setup (1.7KB, 64 lines)
```

## ğŸ—„ï¸ **Database & Models**

### **ğŸ“ model/ - Database Schemas**
```
model/
â”œâ”€â”€ game.js                  # Game model (1.3KB, 64 lines)
â””â”€â”€ session.js               # Session model (859B, 39 lines)
```

### **ğŸ“ config/ - Configuration**
```
config/
â”œâ”€â”€ environment.js           # Environment configuration (3.8KB, 155 lines)
â”œâ”€â”€ keys_dev.js             # Development keys (138B, 4 lines)
â”œâ”€â”€ keys.js                 # Production keys (156B, 5 lines)
â””â”€â”€ keys_prod.js            # Production keys (51B, 3 lines)
```

### **ğŸ“ utils/ - Utility Functions**
```
utils/
â”œâ”€â”€ validation.js            # Input validation (4.6KB, 191 lines)
â”œâ”€â”€ dbConnect.js             # Database connection (390B, 15 lines)
â””â”€â”€ logger.js                # Logging utility (195B, 11 lines)
```

## ğŸŒ **Frontend Application**

### **ğŸ“ frontend/ - React Application**
```
frontend/
â”œâ”€â”€ ğŸ“ src/                  # React source code
â”‚   â”œâ”€â”€ ğŸ“ components/       # Reusable components
â”‚   â”œâ”€â”€ ğŸ“ pages/            # Page components
â”‚   â”œâ”€â”€ ğŸ“ utils/            # Frontend utilities
â”‚   â”œâ”€â”€ App.js               # Main app component (1.6KB, 50 lines)
â”‚   â”œâ”€â”€ AppContext.js        # React context (1018B, 41 lines)
â”‚   â”œâ”€â”€ App.scss             # Main stylesheet (5.5KB, 340 lines)
â”‚   â”œâ”€â”€ index.js             # Entry point (329B, 15 lines)
â”‚   â”œâ”€â”€ index.css            # Global styles (366B, 14 lines)
â”‚   â”œâ”€â”€ reportWebVitals.js   # Performance monitoring (362B, 14 lines)
â”‚   â””â”€â”€ setupTests.js        # Test configuration (241B, 6 lines)
â”œâ”€â”€ ğŸ“ public/               # Static assets
â”œâ”€â”€ ğŸ“ build/                # Production build
â””â”€â”€ package.json             # Frontend dependencies
```

### **ğŸ“ frontend/src/components/ - UI Components**

#### **ğŸ® Game Components**
```
components/Game/
â”œâ”€â”€ Round.js                 # Main game round logic (8.6KB, 171 lines)
â”œâ”€â”€ GameStop.js              # Game stop functionality (6.6KB, 123 lines)
â”œâ”€â”€ RoleSelection.js         # Player role selection (1.5KB, 34 lines)
â”œâ”€â”€ ParticipantsReady.js     # Participant readiness check (702B, 14 lines)
â”œâ”€â”€ gamestop.module.css      # Game stop styles (1.5KB, 95 lines)
â””â”€â”€ practice.module.css      # Practice mode styles (2.9KB, 173 lines)
```

#### **ğŸ“Š Statistics Components**
```
components/Stats/
â”œâ”€â”€ GamesCompleted.jsx       # Completed games statistics (2.7KB, 48 lines)
â”œâ”€â”€ SessionsAll.jsx          # All sessions statistics (1.8KB, 44 lines)
â”œâ”€â”€ SessionsCompleted.jsx    # Completed sessions statistics (1.8KB, 45 lines)
â”œâ”€â”€ GamesStartedDroppedBeforePractices.jsx # Games dropped before practice (1.6KB, 36 lines)
â”œâ”€â”€ NeverStartedGames.jsx    # Never started games statistics (743B, 23 lines)
â””â”€â”€ GamesStartedDroppedAfterPractices.jsx # Games dropped after practice (2.6KB, 47 lines)
```

#### **âš ï¸ Near Miss Notification Components**
```
components/NearMissNotification/
â”œâ”€â”€ CaseHLRN.js              # High Loss, Risk, Near Miss case (16KB, 356 lines)
â”œâ”€â”€ CaseHLVN.js              # High Loss, Value, Near Miss case (18KB, 380 lines)
â”œâ”€â”€ CaseLLRN.js              # Low Loss, Risk, Near Miss case (16KB, 356 lines)
â”œâ”€â”€ CaseLLVN.js              # Low Loss, Value, Near Miss case (18KB, 375 lines)
â”œâ”€â”€ index.js                 # Main notification component (2.6KB, 81 lines)
â””â”€â”€ postIt.module.css        # Post-it notification styles (3.7KB, 192 lines)
```

#### **ğŸ“ Survey Components**
```
components/AdviceSurvey/
â”œâ”€â”€ index.js                 # Main advice survey component (9.9KB, 231 lines)
â”œâ”€â”€ DataAdviceSurvey.js      # Survey data structure (539B, 15 lines)
â””â”€â”€ adviceSurvey.module.css  # Survey styles (2.7KB, 162 lines)

components/MemorySurvey/
â”œâ”€â”€ index.js                 # Main memory survey component (10KB, 241 lines)
â”œâ”€â”€ DataSurveyGen1.js        # Generation 1 survey data (2.1KB, 45 lines)
â””â”€â”€ DataSurveyGen234.js      # Generation 2-4 survey data (2.2KB, 45 lines)

components/NearMissPreSurvey/
â”œâ”€â”€ index.js                 # Main pre-survey component (22KB, 393 lines)
â””â”€â”€ data.js                  # Pre-survey data structure (6.2KB, 138 lines)

components/NearMissPostSurvey/
â”œâ”€â”€ index.js                 # Main post-survey component (17KB, 294 lines)
â”œâ”€â”€ dataBaseline.js          # Baseline survey data (6.6KB, 147 lines)
â””â”€â”€ dataTreatment.js         # Treatment survey data (7.9KB, 173 lines)
```

#### **ğŸ§© Quiz & Solution Components**
```
components/QuizSolution/
â”œâ”€â”€ index.js                 # Quiz solution component (6.7KB, 184 lines)
â””â”€â”€ index.module.css         # Quiz solution styles (800B, 51 lines)

QuizSolution2.js             # Alternative quiz solution component (5.1KB, 150 lines)
Quizzes2.js                  # Enhanced quiz component (10KB, 266 lines)
```

#### **ğŸ“± UI Form Components**
```
Radio.js                     # Radio button component (644B, 23 lines)
Checkbox.js                  # Checkbox component (559B, 23 lines)
Input.js                     # Input field component (694B, 29 lines)
Select.js                    # Select dropdown component (565B, 18 lines)
SelectLarge.js               # Large select component (1.6KB, 28 lines)
SelectSmall.js               # Small select component (1.2KB, 24 lines)
HorizontalRadioBoxes.js      # Horizontal radio button group (1.5KB, 38 lines)
VerticalRadioBoxes.js        # Vertical radio button group (1.3KB, 37 lines)
RatingRadioButtons.js        # Rating radio buttons component (176B, 11 lines)
Breadcrumbs.js               # Navigation breadcrumbs component (582B, 15 lines)
```

#### **ğŸ”” Notification Components**
```
components/ProgressBar/
â”œâ”€â”€ index.js                 # Progress bar component (740B, 24 lines)
â””â”€â”€ progressBar.module.css   # Progress bar styles (952B, 63 lines)

components/WaitingRoom/
â””â”€â”€ index.js                 # Waiting room component (4.7KB, 101 lines)

components/ChattingRoom/
â”œâ”€â”€ index.js                 # Chat room component (11KB, 382 lines)
â””â”€â”€ chattingroom.module.css  # Chat room styles (0.0B, 0 lines)

components/HistoricText/
â””â”€â”€ index.js                 # Historical text component (3.3KB, 130 lines)

components/AdviceText/
â””â”€â”€ index.js                 # Advice text component (3.3KB, 130 lines)

components/DecisionResult/
â”œâ”€â”€ index.js                 # Decision result component (51KB, 993 lines)
â””â”€â”€ decisionresult.module.css # Decision result styles (10KB, 619 lines)

components/DepletionNotification/
â””â”€â”€ index.js                 # Depletion notification component (2.0KB, 45 lines)

components/PracticeNotification/
â””â”€â”€ index.js                 # Practice notification component (1.5KB, 18 lines)

components/TransitionNotification/
â”œâ”€â”€ index.js                 # Transition notification component (4.2KB, 112 lines)
â””â”€â”€ transition.module.css    # Transition styles (900B, 57 lines)
```

### **ğŸ“ frontend/src/pages/ - Page Components**

#### **ğŸ  Core Pages**
```
pages/Home/
â”œâ”€â”€ index.js                 # Homepage component (3.8KB, 99 lines)
â””â”€â”€ home.module.css          # Homepage styles (1.5KB, 93 lines)

pages/Welcome/
â”œâ”€â”€ index.js                 # Welcome page component (6.0KB, 149 lines)
â””â”€â”€ welcome.module.css       # Welcome page styles (1.8KB, 107 lines)

pages/Instruction/
â”œâ”€â”€ index.js                 # Instruction component (6.6KB, 159 lines)
â””â”€â”€ instruction.module.css   # Instruction styles (2.0KB, 127 lines)
```

#### **ğŸ® Game Pages**
```
pages/Game/
â”œâ”€â”€ index.js                 # Main game page component (38KB, 993 lines)
â””â”€â”€ game.module.css          # Game page styles (2.8KB, 174 lines)
```

#### **ğŸ“‹ Survey & Quiz Pages**
```
pages/Quizzes/
â”œâ”€â”€ index.js                 # Quiz page component (8.4KB, 202 lines)
â”œâ”€â”€ DataQuizzes.js           # Quiz data structure (11KB, 103 lines)
â””â”€â”€ prequiz.module.css       # Quiz page styles (2.7KB, 161 lines)

pages/Survey/
â”œâ”€â”€ index.js                 # Survey page component (6.8KB, 153 lines)
â”œâ”€â”€ DataQuestionnaire.js     # Survey data structure (7.4KB, 130 lines)
â””â”€â”€ questionnaire.module.css # Survey page styles (2.7KB, 161 lines)
```

#### **ğŸ“Š Statistics & Results Pages**
```
pages/Stat/
â”œâ”€â”€ index.js                 # Statistics page component (22KB, 591 lines)
â””â”€â”€ stat.module.css          # Statistics page styles (1.5KB, 100 lines)

pages/DecisionResult/
â”œâ”€â”€ index.js                 # Decision result component (51KB, 993 lines)
â””â”€â”€ decisionresult.module.css # Decision result styles (10KB, 619 lines)
```

#### **ğŸ”š End Game Pages**
```
pages/GoodBye/
â”œâ”€â”€ index.js                 # Goodbye page component (4.1KB, 89 lines)
â””â”€â”€ goodbye.module.css       # Goodbye page styles (1.9KB, 119 lines)

pages/Dropout/
â”œâ”€â”€ index.js                 # Dropout page component (4.9KB, 101 lines)
â””â”€â”€ dropout.module.css       # Dropout page styles (1.5KB, 99 lines)

pages/Stopped/
â”œâ”€â”€ index.js                 # Stopped game page component (2.1KB, 51 lines)
â””â”€â”€ stopped.module.css       # Stopped game page styles (1.6KB, 96 lines)

pages/RandomlyAssigned/
â”œâ”€â”€ index.js                 # Random assignment page component (1.4KB, 43 lines)
â””â”€â”€ randomlyAssigned.module.css # Random assignment page styles (1.6KB, 96 lines)

pages/NotFound/
â””â”€â”€ index.js                 # 404 page component (109B, 11 lines)
```

### **ğŸ“ frontend/src/utils/ - Frontend Utilities**
```
utils/
â”œâ”€â”€ routes.js                # Routing utilities (171B, 9 lines)
â”œâ”€â”€ functions.js             # Common functions (1.8KB, 57 lines)
â””â”€â”€ socket.js                # Socket.IO client configuration (1.9KB, 64 lines)
```

### **ğŸ“ frontend/public/ - Static Assets**
```
public/
â”œâ”€â”€ index.html               # Main HTML template (634B, 22 lines)
â”œâ”€â”€ manifest.json            # Web app manifest (393B, 23 lines)
â”œâ”€â”€ robots.txt               # Search engine directives (67B, 4 lines)
â”œâ”€â”€ favicon1.png             # Primary favicon (14KB, 33 lines)
â”œâ”€â”€ favicon3.png             # Alternative favicon (13KB, 50 lines)
â”œâ”€â”€ icon.png                 # App icon (20KB, 36 lines)
â”œâ”€â”€ mainGameImage.png        # Main game image (122KB, 421 lines)
â”œâ”€â”€ mainFlood.png            # Flood game image (199KB, 702 lines)
â”œâ”€â”€ groundGame.png           # Ground game image (551KB, 1652 lines)
â”œâ”€â”€ groundGame1.png          # Alternative ground game image (40KB, 122 lines)
â”œâ”€â”€ farmer.png               # Farmer character (95KB, 384 lines)
â”œâ”€â”€ farmerIcon.png           # Farmer icon (117KB, 374 lines)
â”œâ”€â”€ provider.png             # Provider image (10KB, 52 lines)
â”œâ”€â”€ providerEvin.png         # Provider Evin image (22KB, 90 lines)
â”œâ”€â”€ provider-flat.png        # Flat provider image (6.1KB, 25 lines)
â”œâ”€â”€ userEvin.png             # User Evin image (16KB, 61 lines)
â”œâ”€â”€ purdueLogo.png           # Purdue logo (14KB, 27 lines)
â”œâ”€â”€ oldPaper1.jpg            # Old paper texture (426KB, 1694 lines)
â”œâ”€â”€ oldPaper1.png            # Old paper texture PNG (1.8MB)
â”œâ”€â”€ gr.png                   # Ground reference image (40KB, 165 lines)
â”œâ”€â”€ depletionGraph.png       # Depletion graph (92KB, 283 lines)
â”œâ”€â”€ bubble.png               # Bubble effect (56KB, 122 lines)
â”œâ”€â”€ coin.png                 # Coin image (12KB, 39 lines)
â”œâ”€â”€ drop.png                 # Drop effect (6.8KB, 37 lines)
â”œâ”€â”€ arrowRight.png           # Right arrow (6.9KB, 7 lines)
â”œâ”€â”€ typing.mov               # Typing animation video (1023KB, 4133 lines)
â”œâ”€â”€ instructionsNearMiss.mp4 # Near miss instructions (18MB)
â””â”€â”€ Near-miss_experiment_video_instructionsV5.mp4 # Experiment video (62MB)
```

### **ğŸ“ frontend/build/ - Production Build**
```
build/
â”œâ”€â”€ index.html               # Built HTML (632B, 1 lines)
â”œâ”€â”€ asset-manifest.json      # Build manifest (517B, 15 lines)
â”œâ”€â”€ robots.txt               # Built robots file (67B, 4 lines)
â”œâ”€â”€ manifest.json            # Built manifest (393B, 23 lines)
â”œâ”€â”€ ğŸ“ static/               # Built static assets
â”‚   â”œâ”€â”€ ğŸ“ css/              # Built CSS files
â”‚   â”‚   â”œâ”€â”€ main.19677f18.css # Main stylesheet (305KB, 8 lines)
â”‚   â”‚   â””â”€â”€ main.19677f18.css.map # CSS source map (502KB, 1 lines)
â”‚   â””â”€â”€ ğŸ“ js/               # Built JavaScript files
â”‚       â”œâ”€â”€ main.6d1b0264.js # Main bundle (1.1MB)
â”‚       â”œâ”€â”€ main.6d1b0264.js.map # JS source map (5.5MB)
â”‚       â”œâ”€â”€ main.6d1b0264.js.LICENSE.txt # License info (2.8KB, 114 lines)
â”‚       â”œâ”€â”€ 453.d855a71b.chunk.js # Code split chunk (4.4KB, 2 lines)
â”‚       â””â”€â”€ 453.d855a71b.chunk.js.map # Chunk source map (10KB, 1 lines)
â”œâ”€â”€ userEvin.png             # Built user image (16KB, 61 lines)
â”œâ”€â”€ providerEvin.png         # Built provider image (22KB, 90 lines)
â”œâ”€â”€ purdueLogo.png           # Built Purdue logo (14KB, 27 lines)
â”œâ”€â”€ provider.png             # Built provider image (10KB, 52 lines)
â”œâ”€â”€ oldPaper1.png            # Built paper texture (1.8MB)
â”œâ”€â”€ provider-flat.png        # Built flat provider image (6.1KB, 25 lines)
â”œâ”€â”€ oldPaper1.jpg            # Built paper texture JPG (426KB, 1694 lines)
â”œâ”€â”€ mainFlood.png            # Built flood image (199KB, 702 lines)
â”œâ”€â”€ mainGameImage.png        # Built main game image (122KB, 421 lines)
â”œâ”€â”€ groundGame1.png          # Built ground game image 1 (40KB, 122 lines)
â”œâ”€â”€ icon.png                 # Built icon (20KB, 36 lines)
â”œâ”€â”€ groundGame.png           # Built ground game image (551KB, 1652 lines)
â”œâ”€â”€ gr.png                   # Built ground reference (40KB, 165 lines)
â”œâ”€â”€ farmerIcon.png           # Built farmer icon (117KB, 374 lines)
â”œâ”€â”€ favicon1.png             # Built favicon 1 (14KB, 33 lines)
â”œâ”€â”€ favicon3.png             # Built favicon 3 (13KB, 50 lines)
â”œâ”€â”€ farmer.png               # Built farmer image (95KB, 384 lines)
â”œâ”€â”€ depletionGraph.png       # Built depletion graph (92KB, 283 lines)
â”œâ”€â”€ drop.png                 # Built drop effect (6.8KB, 37 lines)
â”œâ”€â”€ bubble.png               # Built bubble effect (56KB, 122 lines)
â”œâ”€â”€ coin.png                 # Built coin image (12KB, 39 lines)
â”œâ”€â”€ arrowRight.png           # Built right arrow (6.9KB, 7 lines)
â””â”€â”€ Near-miss_experiment_video_instructionsV5.mp4 # Built experiment video (62MB)
```

## ğŸ”„ **Migration & Legacy Files**

### **ğŸ“ router/ - Legacy Router Files**
```
router/
â”œâ”€â”€ gameRouter.js            # Game API endpoints (4.8KB, 163 lines)
â””â”€â”€ sessionRouter.js         # Session management API (4.1KB, 111 lines)
```

### **ğŸ“ scripts/ - Migration Scripts**
```
scripts/
â”œâ”€â”€ migrate.js               # Main migration script (3.5KB, 112 lines)
â””â”€â”€ migrate-code.js          # Code migration utilities (8.8KB, 280 lines)
```

## ğŸ›ï¸ **Architecture Overview**

### **Service Layer Pattern**
- **GameManager**: Central orchestrator, handles all game operations
- **RoomManager**: Manages room lifecycle, participant assignment
- **GameFlowManager**: Controls game step progression and timing
- **GameStateManager**: Handles game calculations and state updates
- **RoundManager**: Manages individual round operations
- **ParticipantManager**: Handles participant lifecycle and coordination

### **Key Benefits of Refactoring**
- **Before**: 1627 lines in single `app.js` file
- **After**: 50-600 lines per focused service
- **Maintainability**: Clear separation of concerns
- **Testability**: Each service can be unit tested independently
- **Scalability**: Services can scale independently
- **Team Development**: Clear ownership and reduced conflicts

## ğŸš€ **Quick Start Commands**

```bash
# Install dependencies
npm install

# Start development server
npm start

# Run tests
npm test

# Frontend development
cd frontend
npm start
```

## ğŸ“Š **File Size Distribution**

- **Total Backend**: ~120KB across 6 service files
- **Largest Service**: GameStateManager.js (35KB) - Complex game logic
- **Average Service**: ~20KB - Focused, maintainable size
- **Legacy Code**: app.js.backup (58KB) - Original monolithic structure
- **Frontend Components**: ~200KB across 30+ component files
- **Frontend Pages**: ~150KB across 12 page components
- **Static Assets**: ~100MB including images and videos

## ğŸ¯ **Interview-Ready Features**

âœ… **Real-time multiplayer game** with Socket.IO  
âœ… **Complex business logic** (game flow, flood simulation)  
âœ… **Professional architecture** with service layer pattern  
âœ… **Database integration** with MongoDB/Mongoose  
âœ… **Input validation** and security middleware  
âœ… **Comprehensive error handling** and logging  
âœ… **Testing infrastructure** ready for unit tests  
âœ… **Rich UI components** (30+ reusable components)  
âœ… **Multiple game scenarios** (Near Miss, Practice, etc.)  
âœ… **Data collection system** (surveys, quizzes, statistics)  

## ğŸ” **Component Categories**

### **Game Logic (6 components)**
- Round management, role selection, game flow control

### **Survey System (12 components)**
- Pre/post surveys, memory tests, advice collection

### **Notifications (8 components)**
- Near miss alerts, practice reminders, transitions

### **Statistics (6 components)**
- Game completion rates, session analytics, dropout tracking

### **UI Elements (15 components)**
- Forms, inputs, progress bars, navigation

### **Page Components (12 pages)**
- Complete user journey from welcome to completion

---

**This refactored structure demonstrates professional-grade development skills and architectural thinking that will impress any technical interviewer! ğŸ†**
# ğŸ—ï¸ Project Structure - Refactored Game Application

## ğŸ“ **Root Directory Structure**

```
gameRefactor/
â”œâ”€â”€ ğŸ“ src/                          # Main source code (refactored)
â”‚   â”œâ”€â”€ ğŸ“ services/                 # Core business logic services
â”‚   â”œâ”€â”€ ğŸ“ routes/                   # API route definitions
â”‚   â”œâ”€â”€ ğŸ“ middleware/               # Express middleware
â”‚   â”œâ”€â”€ ğŸ“ socket/                   # Socket.IO configuration
â”‚   â””â”€â”€ server.js                    # Main server entry point
â”œâ”€â”€ ğŸ“ router/                       # Legacy router files (migration)
â”œâ”€â”€ ğŸ“ model/                        # Database models
â”œâ”€â”€ ğŸ“ config/                       # Configuration files
â”œâ”€â”€ ğŸ“ utils/                        # Utility functions
â”œâ”€â”€ ğŸ“ frontend/                     # React frontend application
â”œâ”€â”€ ğŸ“ scripts/                      # Migration and utility scripts
â”œâ”€â”€ app.js                           # Legacy entry point (simplified)
â”œâ”€â”€ app.js.backup                    # Original monolithic app.js (1627 lines)
â”œâ”€â”€ ARCHITECTURE.md                   # Architecture documentation
â”œâ”€â”€ MIGRATION_SUMMARY.md             # Migration process summary
â””â”€â”€ README.md                        # Project overview
```

## ğŸ”§ **Backend Architecture (Refactored)**

### **ğŸ“ src/services/ - Core Business Logic**
```
services/
â”œâ”€â”€ GameManager.js           # Main orchestrator (15KB, 475 lines)
â”œâ”€â”€ RoomManager.js           # Room lifecycle management (15KB, 536 lines)
â”œâ”€â”€ GameFlowManager.js       # Game progression logic (20KB, 607 lines)
â”œâ”€â”€ GameStateManager.js      # Game calculations & state (35KB, 957 lines)
â”œâ”€â”€ RoundManager.js          # Round operations (11KB, 421 lines)
â”œâ”€â”€ ParticipantManager.js    # Participant operations (19KB, 596 lines)
â””â”€â”€ __tests__/               # Test files
    â””â”€â”€ RoomManager.test.js  # Unit tests (5.3KB, 190 lines)
```

### **ğŸ“ src/routes/ - API Routes**
```
routes/
â””â”€â”€ index.js                 # Main route definitions (1.1KB, 41 lines)
```

### **ğŸ“ src/middleware/ - Express Middleware**
```
middleware/
â””â”€â”€ index.js                 # Middleware configuration (1.5KB, 56 lines)
```

### **ğŸ“ src/socket/ - Real-time Communication**
```
socket/
â””â”€â”€ index.js                 # Socket.IO setup (1.5KB, 57 lines)
```

### **ğŸ“ src/server.js - Main Server**
```
server.js                    # Express server setup (1.7KB, 64 lines)
```

## ğŸ—„ï¸ **Database & Models**

### **ğŸ“ model/ - Database Schemas**
```
model/
â”œâ”€â”€ game.js                  # Game model (1.3KB, 64 lines)
â””â”€â”€ session.js               # Session model (859B, 39 lines)
```

### **ğŸ“ config/ - Configuration**
```
config/
â”œâ”€â”€ environment.js           # Environment configuration (3.8KB, 155 lines)
â”œâ”€â”€ keys_dev.js             # Development keys (138B, 4 lines)
â”œâ”€â”€ keys.js                 # Production keys (156B, 5 lines)
â””â”€â”€ keys_prod.js            # Production keys (51B, 3 lines)
```

### **ğŸ“ utils/ - Utility Functions**
```
utils/
â”œâ”€â”€ validation.js            # Input validation (4.6KB, 191 lines)
â”œâ”€â”€ dbConnect.js             # Database connection (390B, 15 lines)
â””â”€â”€ logger.js                # Logging utility (195B, 11 lines)
```

## ğŸŒ **Frontend Application**

### **ğŸ“ frontend/ - React Application**
```
frontend/
â”œâ”€â”€ ğŸ“ src/                  # React source code
â”‚   â”œâ”€â”€ ğŸ“ components/       # Reusable components
â”‚   â”œâ”€â”€ ğŸ“ pages/            # Page components
â”‚   â”œâ”€â”€ ğŸ“ utils/            # Frontend utilities
â”‚   â”œâ”€â”€ App.js               # Main app component (1.6KB, 50 lines)
â”‚   â”œâ”€â”€ AppContext.js        # React context (1018B, 41 lines)
â”‚   â”œâ”€â”€ App.scss             # Main stylesheet (5.5KB, 340 lines)
â”‚   â”œâ”€â”€ index.js             # Entry point (329B, 15 lines)
â”‚   â”œâ”€â”€ index.css            # Global styles (366B, 14 lines)
â”‚   â”œâ”€â”€ reportWebVitals.js   # Performance monitoring (362B, 14 lines)
â”‚   â””â”€â”€ setupTests.js        # Test configuration (241B, 6 lines)
â”œâ”€â”€ ğŸ“ public/               # Static assets
â”œâ”€â”€ ğŸ“ build/                # Production build
â””â”€â”€ package.json             # Frontend dependencies
```

### **ğŸ“ frontend/src/components/ - UI Components**

#### **ğŸ® Game Components**
```
components/Game/
â”œâ”€â”€ Round.js                 # Main game round logic (8.6KB, 171 lines)
â”œâ”€â”€ GameStop.js              # Game stop functionality (6.6KB, 123 lines)
â”œâ”€â”€ RoleSelection.js         # Player role selection (1.5KB, 34 lines)
â”œâ”€â”€ ParticipantsReady.js     # Participant readiness check (702B, 14 lines)
â”œâ”€â”€ gamestop.module.css      # Game stop styles (1.5KB, 95 lines)
â””â”€â”€ practice.module.css      # Practice mode styles (2.9KB, 173 lines)
```

#### **ğŸ“Š Statistics Components**
```
components/Stats/
â”œâ”€â”€ GamesCompleted.jsx       # Completed games statistics (2.7KB, 48 lines)
â”œâ”€â”€ SessionsAll.jsx          # All sessions statistics (1.8KB, 44 lines)
â”œâ”€â”€ SessionsCompleted.jsx    # Completed sessions statistics (1.8KB, 45 lines)
â”œâ”€â”€ GamesStartedDroppedBeforePractices.jsx # Games dropped before practice (1.6KB, 36 lines)
â”œâ”€â”€ NeverStartedGames.jsx    # Never started games statistics (743B, 23 lines)
â””â”€â”€ GamesStartedDroppedAfterPractices.jsx # Games dropped after practice (2.6KB, 47 lines)
```

#### **âš ï¸ Near Miss Notification Components**
```
components/NearMissNotification/
â”œâ”€â”€ CaseHLRN.js              # High Loss, Risk, Near Miss case (16KB, 356 lines)
â”œâ”€â”€ CaseHLVN.js              # High Loss, Value, Near Miss case (18KB, 380 lines)
â”œâ”€â”€ CaseLLRN.js              # Low Loss, Risk, Near Miss case (16KB, 356 lines)
â”œâ”€â”€ CaseLLVN.js              # Low Loss, Value, Near Miss case (18KB, 375 lines)
â”œâ”€â”€ index.js                 # Main notification component (2.6KB, 81 lines)
â””â”€â”€ postIt.module.css        # Post-it notification styles (3.7KB, 192 lines)
```

#### **ğŸ“ Survey Components**
```
components/AdviceSurvey/
â”œâ”€â”€ index.js                 # Main advice survey component (9.9KB, 231 lines)
â”œâ”€â”€ DataAdviceSurvey.js      # Survey data structure (539B, 15 lines)
â””â”€â”€ adviceSurvey.module.css  # Survey styles (2.7KB, 162 lines)

components/MemorySurvey/
â”œâ”€â”€ index.js                 # Main memory survey component (10KB, 241 lines)
â”œâ”€â”€ DataSurveyGen1.js        # Generation 1 survey data (2.1KB, 45 lines)
â””â”€â”€ DataSurveyGen234.js      # Generation 2-4 survey data (2.2KB, 45 lines)

components/NearMissPreSurvey/
â”œâ”€â”€ index.js                 # Main pre-survey component (22KB, 393 lines)
â””â”€â”€ data.js                  # Pre-survey data structure (6.2KB, 138 lines)

components/NearMissPostSurvey/
â”œâ”€â”€ index.js                 # Main post-survey component (17KB, 294 lines)
â”œâ”€â”€ dataBaseline.js          # Baseline survey data (6.6KB, 147 lines)
â””â”€â”€ dataTreatment.js         # Treatment survey data (7.9KB, 173 lines)
```

#### **ğŸ§© Quiz & Solution Components**
```
components/QuizSolution/
â”œâ”€â”€ index.js                 # Quiz solution component (6.7KB, 184 lines)
â””â”€â”€ index.module.css         # Quiz solution styles (800B, 51 lines)

QuizSolution2.js             # Alternative quiz solution component (5.1KB, 150 lines)
Quizzes2.js                  # Enhanced quiz component (10KB, 266 lines)
```

#### **ğŸ“± UI Form Components**
```
Radio.js                     # Radio button component (644B, 23 lines)
Checkbox.js                  # Checkbox component (559B, 23 lines)
Input.js                     # Input field component (694B, 29 lines)
Select.js                    # Select dropdown component (565B, 18 lines)
SelectLarge.js               # Large select component (1.6KB, 28 lines)
SelectSmall.js               # Small select component (1.2KB, 24 lines)
HorizontalRadioBoxes.js      # Horizontal radio button group (1.5KB, 38 lines)
VerticalRadioBoxes.js        # Vertical radio button group (1.3KB, 37 lines)
RatingRadioButtons.js        # Rating radio buttons component (176B, 11 lines)
Breadcrumbs.js               # Navigation breadcrumbs component (582B, 15 lines)
```

#### **ğŸ”” Notification Components**
```
components/ProgressBar/
â”œâ”€â”€ index.js                 # Progress bar component (740B, 24 lines)
â””â”€â”€ progressBar.module.css   # Progress bar styles (952B, 63 lines)

components/WaitingRoom/
â””â”€â”€ index.js                 # Waiting room component (4.7KB, 101 lines)

components/ChattingRoom/
â”œâ”€â”€ index.js                 # Chat room component (11KB, 382 lines)
â””â”€â”€ chattingroom.module.css  # Chat room styles (0.0B, 0 lines)

components/HistoricText/
â””â”€â”€ index.js                 # Historical text component (3.3KB, 130 lines)

components/AdviceText/
â””â”€â”€ index.js                 # Advice text component (3.3KB, 130 lines)

components/DecisionResult/
â”œâ”€â”€ index.js                 # Decision result component (51KB, 993 lines)
â””â”€â”€ decisionresult.module.css # Decision result styles (10KB, 619 lines)

components/DepletionNotification/
â””â”€â”€ index.js                 # Depletion notification component (2.0KB, 45 lines)

components/PracticeNotification/
â””â”€â”€ index.js                 # Practice notification component (1.5KB, 18 lines)

components/TransitionNotification/
â”œâ”€â”€ index.js                 # Transition notification component (4.2KB, 112 lines)
â””â”€â”€ transition.module.css    # Transition styles (900B, 57 lines)
```

### **ğŸ“ frontend/src/pages/ - Page Components**

#### **ğŸ  Core Pages**
```
pages/Home/
â”œâ”€â”€ index.js                 # Homepage component (3.8KB, 99 lines)
â””â”€â”€ home.module.css          # Homepage styles (1.5KB, 93 lines)

pages/Welcome/
â”œâ”€â”€ index.js                 # Welcome page component (6.0KB, 149 lines)
â””â”€â”€ welcome.module.css       # Welcome page styles (1.8KB, 107 lines)

pages/Instruction/
â”œâ”€â”€ index.js                 # Instruction component (6.6KB, 159 lines)
â””â”€â”€ instruction.module.css   # Instruction styles (2.0KB, 127 lines)
```

#### **ğŸ® Game Pages**
```
pages/Game/
â”œâ”€â”€ index.js                 # Main game page component (38KB, 993 lines)
â””â”€â”€ game.module.css          # Game page styles (2.8KB, 174 lines)
```

#### **ğŸ“‹ Survey & Quiz Pages**
```
pages/Quizzes/
â”œâ”€â”€ index.js                 # Quiz page component (8.4KB, 202 lines)
â”œâ”€â”€ DataQuizzes.js           # Quiz data structure (11KB, 103 lines)
â””â”€â”€ prequiz.module.css       # Quiz page styles (2.7KB, 161 lines)

pages/Survey/
â”œâ”€â”€ index.js                 # Survey page component (6.8KB, 153 lines)
â”œâ”€â”€ DataQuestionnaire.js     # Survey data structure (7.4KB, 130 lines)
â””â”€â”€ questionnaire.module.css # Survey page styles (2.7KB, 161 lines)
```

#### **ğŸ“Š Statistics & Results Pages**
```
pages/Stat/
â”œâ”€â”€ index.js                 # Statistics page component (22KB, 591 lines)
â””â”€â”€ stat.module.css          # Statistics page styles (1.5KB, 100 lines)

pages/DecisionResult/
â”œâ”€â”€ index.js                 # Decision result component (51KB, 993 lines)
â””â”€â”€ decisionresult.module.css # Decision result styles (10KB, 619 lines)
```

#### **ğŸ”š End Game Pages**
```
pages/GoodBye/
â”œâ”€â”€ index.js                 # Goodbye page component (4.1KB, 89 lines)
â””â”€â”€ goodbye.module.css       # Goodbye page styles (1.9KB, 119 lines)

pages/Dropout/
â”œâ”€â”€ index.js                 # Dropout page component (4.9KB, 101 lines)
â””â”€â”€ dropout.module.css       # Dropout page styles (1.5KB, 99 lines)

pages/Stopped/
â”œâ”€â”€ index.js                 # Stopped game page component (2.1KB, 51 lines)
â””â”€â”€ stopped.module.css       # Stopped game page styles (1.6KB, 96 lines)

pages/RandomlyAssigned/
â”œâ”€â”€ index.js                 # Random assignment page component (1.4KB, 43 lines)
â””â”€â”€ randomlyAssigned.module.css # Random assignment page styles (1.6KB, 96 lines)

pages/NotFound/
â””â”€â”€ index.js                 # 404 page component (109B, 11 lines)
```

### **ğŸ“ frontend/src/utils/ - Frontend Utilities**
```
utils/
â”œâ”€â”€ routes.js                # Routing utilities (171B, 9 lines)
â”œâ”€â”€ functions.js             # Common functions (1.8KB, 57 lines)
â””â”€â”€ socket.js                # Socket.IO client configuration (1.9KB, 64 lines)
```

### **ğŸ“ frontend/public/ - Static Assets**
```
public/
â”œâ”€â”€ index.html               # Main HTML template (634B, 22 lines)
â”œâ”€â”€ manifest.json            # Web app manifest (393B, 23 lines)
â”œâ”€â”€ robots.txt               # Search engine directives (67B, 4 lines)
â”œâ”€â”€ favicon1.png             # Primary favicon (14KB, 33 lines)
â”œâ”€â”€ favicon3.png             # Alternative favicon (13KB, 50 lines)
â”œâ”€â”€ icon.png                 # App icon (20KB, 36 lines)
â”œâ”€â”€ mainGameImage.png        # Main game image (122KB, 421 lines)
â”œâ”€â”€ mainFlood.png            # Flood game image (199KB, 702 lines)
â”œâ”€â”€ groundGame.png           # Ground game image (551KB, 1652 lines)
â”œâ”€â”€ groundGame1.png          # Alternative ground game image (40KB, 122 lines)
â”œâ”€â”€ farmer.png               # Farmer character (95KB, 384 lines)
â”œâ”€â”€ farmerIcon.png           # Farmer icon (117KB, 374 lines)
â”œâ”€â”€ provider.png             # Provider image (10KB, 52 lines)
â”œâ”€â”€ providerEvin.png         # Provider Evin image (22KB, 90 lines)
â”œâ”€â”€ provider-flat.png        # Flat provider image (6.1KB, 25 lines)
â”œâ”€â”€ userEvin.png             # User Evin image (16KB, 61 lines)
â”œâ”€â”€ purdueLogo.png           # Purdue logo (14KB, 27 lines)
â”œâ”€â”€ oldPaper1.jpg            # Old paper texture (426KB, 1694 lines)
â”œâ”€â”€ oldPaper1.png            # Old paper texture PNG (1.8MB)
â”œâ”€â”€ gr.png                   # Ground reference image (40KB, 165 lines)
â”œâ”€â”€ depletionGraph.png       # Depletion graph (92KB, 283 lines)
â”œâ”€â”€ bubble.png               # Bubble effect (56KB, 122 lines)
â”œâ”€â”€ coin.png                 # Coin image (12KB, 39 lines)
â”œâ”€â”€ drop.png                 # Drop effect (6.8KB, 37 lines)
â”œâ”€â”€ arrowRight.png           # Right arrow (6.9KB, 7 lines)
â”œâ”€â”€ typing.mov               # Typing animation video (1023KB, 4133 lines)
â”œâ”€â”€ instructionsNearMiss.mp4 # Near miss instructions (18MB)
â””â”€â”€ Near-miss_experiment_video_instructionsV5.mp4 # Experiment video (62MB)
```

### **ğŸ“ frontend/build/ - Production Build**
```
build/
â”œâ”€â”€ index.html               # Built HTML (632B, 1 lines)
â”œâ”€â”€ asset-manifest.json      # Build manifest (517B, 15 lines)
â”œâ”€â”€ robots.txt               # Built robots file (67B, 4 lines)
â”œâ”€â”€ manifest.json            # Built manifest (393B, 23 lines)
â”œâ”€â”€ ğŸ“ static/               # Built static assets
â”‚   â”œâ”€â”€ ğŸ“ css/              # Built CSS files
â”‚   â”‚   â”œâ”€â”€ main.19677f18.css # Main stylesheet (305KB, 8 lines)
â”‚   â”‚   â””â”€â”€ main.19677f18.css.map # CSS source map (502KB, 1 lines)
â”‚   â””â”€â”€ ğŸ“ js/               # Built JavaScript files
â”‚       â”œâ”€â”€ main.6d1b0264.js # Main bundle (1.1MB)
â”‚       â”œâ”€â”€ main.6d1b0264.js.map # JS source map (5.5MB)
â”‚       â”œâ”€â”€ main.6d1b0264.js.LICENSE.txt # License info (2.8KB, 114 lines)
â”‚       â”œâ”€â”€ 453.d855a71b.chunk.js # Code split chunk (4.4KB, 2 lines)
â”‚       â””â”€â”€ 453.d855a71b.chunk.js.map # Chunk source map (10KB, 1 lines)
â”œâ”€â”€ userEvin.png             # Built user image (16KB, 61 lines)
â”œâ”€â”€ providerEvin.png         # Built provider image (22KB, 90 lines)
â”œâ”€â”€ purdueLogo.png           # Built Purdue logo (14KB, 27 lines)
â”œâ”€â”€ provider.png             # Built provider image (10KB, 52 lines)
â”œâ”€â”€ oldPaper1.png            # Built paper texture (1.8MB)
â”œâ”€â”€ provider-flat.png        # Built flat provider image (6.1KB, 25 lines)
â”œâ”€â”€ oldPaper1.jpg            # Built paper texture JPG (426KB, 1694 lines)
â”œâ”€â”€ mainFlood.png            # Built flood image (199KB, 702 lines)
â”œâ”€â”€ mainGameImage.png        # Built main game image (122KB, 421 lines)
â”œâ”€â”€ groundGame1.png          # Built ground game image 1 (40KB, 122 lines)
â”œâ”€â”€ icon.png                 # Built icon (20KB, 36 lines)
â”œâ”€â”€ groundGame.png           # Built ground game image (551KB, 1652 lines)
â”œâ”€â”€ gr.png                   # Built ground reference (40KB, 165 lines)
â”œâ”€â”€ farmerIcon.png           # Built farmer icon (117KB, 374 lines)
â”œâ”€â”€ favicon1.png             # Built favicon 1 (14KB, 33 lines)
â”œâ”€â”€ favicon3.png             # Built favicon 3 (13KB, 50 lines)
â”œâ”€â”€ farmer.png               # Built farmer image (95KB, 384 lines)
â”œâ”€â”€ depletionGraph.png       # Built depletion graph (92KB, 283 lines)
â”œâ”€â”€ drop.png                 # Built drop effect (6.8KB, 37 lines)
â”œâ”€â”€ bubble.png               # Built bubble effect (56KB, 122 lines)
â”œâ”€â”€ coin.png                 # Built coin image (12KB, 39 lines)
â”œâ”€â”€ arrowRight.png           # Built right arrow (6.9KB, 7 lines)
â””â”€â”€ Near-miss_experiment_video_instructionsV5.mp4 # Built experiment video (62MB)
```

## ğŸ”„ **Migration & Legacy Files**

### **ğŸ“ router/ - Legacy Router Files**
```
router/
â”œâ”€â”€ gameRouter.js            # Game API endpoints (4.8KB, 163 lines)
â””â”€â”€ sessionRouter.js         # Session management API (4.1KB, 111 lines)
```

### **ğŸ“ scripts/ - Migration Scripts**
```
scripts/
â”œâ”€â”€ migrate.js               # Main migration script (3.5KB, 112 lines)
â””â”€â”€ migrate-code.js          # Code migration utilities (8.8KB, 280 lines)
```

## ğŸ›ï¸ **Architecture Overview**

### **Service Layer Pattern**
- **GameManager**: Central orchestrator, handles all game operations
- **RoomManager**: Manages room lifecycle, participant assignment
- **GameFlowManager**: Controls game step progression and timing
- **GameStateManager**: Handles game calculations and state updates
- **RoundManager**: Manages individual round operations
- **ParticipantManager**: Handles participant lifecycle and coordination

### **Key Benefits of Refactoring**
- **Before**: 1627 lines in single `app.js` file
- **After**: 50-600 lines per focused service
- **Maintainability**: Clear separation of concerns
- **Testability**: Each service can be unit tested independently
- **Scalability**: Services can scale independently
- **Team Development**: Clear ownership and reduced conflicts

## ğŸš€ **Quick Start Commands**

```bash
# Install dependencies
npm install

# Start development server
npm start

# Run tests
npm test

# Frontend development
cd frontend
npm start
```

## ğŸ“Š **File Size Distribution**

- **Total Backend**: ~120KB across 6 service files
- **Largest Service**: GameStateManager.js (35KB) - Complex game logic
- **Average Service**: ~20KB - Focused, maintainable size
- **Legacy Code**: app.js.backup (58KB) - Original monolithic structure
- **Frontend Components**: ~200KB across 30+ component files
- **Frontend Pages**: ~150KB across 12 page components
- **Static Assets**: ~100MB including images and videos

## ğŸ¯ **Interview-Ready Features**

âœ… **Real-time multiplayer game** with Socket.IO  
âœ… **Complex business logic** (game flow, flood simulation)  
âœ… **Professional architecture** with service layer pattern  
âœ… **Database integration** with MongoDB/Mongoose  
âœ… **Input validation** and security middleware  
âœ… **Comprehensive error handling** and logging  
âœ… **Testing infrastructure** ready for unit tests  
âœ… **Rich UI components** (30+ reusable components)  
âœ… **Multiple game scenarios** (Near Miss, Practice, etc.)  
âœ… **Data collection system** (surveys, quizzes, statistics)  

## ğŸ” **Component Categories**

### **Game Logic (6 components)**
- Round management, role selection, game flow control

### **Survey System (12 components)**
- Pre/post surveys, memory tests, advice collection

### **Notifications (8 components)**
- Near miss alerts, practice reminders, transitions

### **Statistics (6 components)**
- Game completion rates, session analytics, dropout tracking

### **UI Elements (15 components)**
- Forms, inputs, progress bars, navigation

### **Page Components (12 pages)**
- Complete user journey from welcome to completion

---

**This refactored structure demonstrates professional-grade development skills and architectural thinking that will impress any technical interviewer! ğŸ†**
